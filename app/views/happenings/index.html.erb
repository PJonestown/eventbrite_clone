<h1>Happenings#index</h1>

<% @happenings.map(&:date).uniq.each do |date| %>
  <h3><%= date.to_formatted_s(:short) %></h3>
  <% happenings = @happenings.select { |happening| happening.date == date } %>
  <% happenings.each do |happening| %>
    <% if happening.instance_of? Event %>
      <%= link_to happening.name, happening %>
    <% else %>
      <%= link_to happening.name, group_gathering_path(happening.group_id, happening) %>
    <% end %>
  <% end %>
<% end %>
